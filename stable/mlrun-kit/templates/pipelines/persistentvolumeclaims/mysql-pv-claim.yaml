{{- if .Values.pipelines.enabled -}}
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
{{- with .Values.pipelines.persistence.annotations }}
  annotations: {{ toYaml . | nindent 4 }}
{{- end }}
  labels:
    application-crd-id: kubeflow-pipelines
  name: mysql-pv-claim
spec:
  accessModes:
  - ReadWriteOnce
  resources:
    requests:
      storage: 20Gi
  storageClassName:
{{- end -}}
