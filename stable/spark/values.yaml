# Default values for spark.
# This is a YAML-formatted file.
# Declare name/value pairs to be passed into your templates.
# name: value

Master:
  Name: spark-master
  Image: "iguaziodocker/spark"
  ImageTag: "2.1.2-1.5.2"
  ImagePullPolicy: "IfNotPresent"
  Replicas: 1
  Component: "spark-master"
  Cpu: "1"
  Memory: "3Gi"
  ServicePort: 7077
  ContainerPort: 7077

WebUi:
  Name: spark-webui
  ServicePort: 8080
  ContainerPort: 8080
  NameSpace: "iguazio"

Worker:
  Name: spark-worker
  Image: "iguaziodocker/spark"
  ImageTag: "2.1.2-1.5.2"
  ImagePullPolicy: "IfNotPresent"
  Replicas: 1
  Component: "spark-worker"
  Cpu: "1"
  Memory: "4Gi"
  ContainerPort: 8081

Zeppelin:
  Name: zeppelin
  Image: "iguaziodocker/zeppelin"
  ImageTag: "0.7.3-1.5.2"
  ImagePullPolicy: "IfNotPresent"
  Replicas: 1
  Component: "zeppelin"
  Cpu: "1"
  Memory: "2Gi"
  ServicePort: 8080
  ContainerPort: 8080
  NodePort: 0
  PreloadNotebooks:
    Enabled: true
    Notebooks:
      - Title: "iguazio/Demo Notebook"
        Documentation: |-
          ## Title ##
          This section actually supports Markdown syntax!
        Sections:
        - Language: scala
          Content: |-
            import org.apache.spark.sql.types._
            import org.apache.spark.sql.functions._
            val schema = StructType(List(
                    StructField("__name", StringType),
                    StructField("count", LongType)
                ))
            val df = sqlContext.read
                        .format("io.iguaz.v3io.spark.sql.kv")
                        .schema(schema)
                        .option("container-alias", "bigdata")
                        .load("/data")
            df.where($"count" > 10).orderBy(desc("count")).show()

V3IO:
  DaemonLookupServiceName: "registry"
  DaemonLookupServicePort: 8080
  DaemonLookupServicePath: "registry/daemon"
