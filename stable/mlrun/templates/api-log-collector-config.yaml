{{- if .Values.api.sidecars.logCollector.enabled -}}
apiVersion: v1
kind: ConfigMap
metadata:
  name: mlrun-log-collector-config
data:
  MLRUN_LOG_COLLECTOR_LOG_LEVEL: {{ .Values.api.sidecars.logCollector.logLevel }}
  MLRUN_LOG_COLLECTOR_LOG_FORMATTER: {{ .Values.api.sidecars.logCollector.logFormat }}
  MLRUN_LOG_COLLECTOR_LISTEN_PORT: {{ .Values.api.sidecars.logCollector.listenPort }}
  MLRUN_LOG_COLLECTOR_NAMESPACE: {{ .Release.Namespace }}
  MLRUN_LOG_COLLECTOR_BASE_DIR: {{ .Values.api.sidecars.logCollector.workdir }}/log-collector/pod-logs
  MLRUN_LOG_COLLECTOR_MONITORING_INTERVAL: 30s
  MLRUN_LOG_COLLECTOR_GET_LOGS_INTERVAL: 10s
{{- end -}}
log-collector